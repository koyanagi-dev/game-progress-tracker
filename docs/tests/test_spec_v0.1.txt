==================================================
Game Progress Tracker テスト仕様メモ（ライト版）
バージョン: v0.1
作成者: 小柳 和博 ＋ ChatGPT
作成日: 2025-11-21
==================================================

1. このドキュメントの目的
- Game Progress Tracker のテスト観点を整理し、
  ・どの要件を
  ・どのテストで
  ・どのレベル（Must / 一元的 / 魅力）として
  確認しているかを見える化する。

- 詳細な手順書というより、
  「どんなテストがあって、どのファイルに自動テストがあるか」を
  ざっくり把握するためのメモ。

- テストはすべて Vitest＋React Testing Library を使用。
  （Playwright は今回のプロジェクトではいったん不使用）


2. テストの分類方針

※ 要件定義書 v0.2 の FR-001〜FR-007 に対応させる。

- 種別：
  - ユニットテスト（ロジック単体）
  - UIテスト（画面をレンダリングして挙動を確認）

- Kanoカテゴリ（要件側と対応）：
  - Must       ：絶対に壊したくない基本機能
  - One-dim    ：できているほど便利な機能
  - Attractive ：あると嬉しい、楽しさUP

- 重要度（テスト側ラベル）：
  - MUST テスト … リリース前に必ず通したい自動テスト
  - NICE テスト … 余裕があれば追加していくテスト

※ 現時点では、自動化済みテストはすべて「MUSTテスト」とする。


3. 要件別テスト一覧（現状）

----------------------------------------
[FR-001] タスク追加（Kano: Must）
----------------------------------------

■ テストID: TS-UI-ADD-001
- 対応要件: FR-001（タスク追加）
- Kanoカテゴリ: Must
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-add-task.test.jsx
- テスト内容（概要）:
  1. 画面をレンダリングする。
  2. 「タスクを入力...」の入力欄に「テストタスク」と入力。
  3. 「追加」ボタンをクリック。
  4. 画面上に「テストタスク」が表示されていることを確認する。

■ 将来的に追加したいテスト案（メモ）
- TS-UI-ADD-002（NICE）:
  - 空文字（スペースだけ含む）で「追加」ボタンを押しても
    タスクが追加されないこと（FR-001＋セキュリティ要件対応）。
- TS-UI-ADD-003（NICE）:
  - 100文字ちょうどのタスク名は追加できる。
  - 100文字を超える入力は UI の maxLength で制限される。


----------------------------------------
[FR-002] タスク削除（Kano: Must）
----------------------------------------

■ テストID: TS-UI-DEL-001
- 対応要件: FR-002（タスク削除）
- Kanoカテゴリ: Must
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-delete-task.test.jsx
- テスト内容（概要）:
  1. タスクを1件追加する（例：「削除テストタスク」）。
  2. 画面にそのタスクが表示されていることを確認。
  3. 対応する「削除」ボタンをクリック。
  4. 画面から「削除テストタスク」が消えていることを確認。


----------------------------------------
[FR-003] タスク編集（Kano: One-dim）
----------------------------------------

■ テストID: TS-UI-EDIT-001
- 対応要件: FR-003（タスク編集）
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-edit-task.test.jsx
- テスト内容（概要・CASE1）:
  - CASE1: 編集 → 保存 で名前が更新される
    1. 「最初の名前」というタスクを追加。
    2. 「編集」ボタンを押して編集モードに入る。
    3. 入力欄の内容を「変更後の名前」に書き換える。
    4. 「保存」ボタンを押す。
    5. 一覧上に「変更後の名前」が表示されていることを確認。

■ テストID: TS-UI-EDIT-002
- 対応要件: FR-003
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-edit-task.test.jsx
- テスト内容（概要・CASE2）:
  - CASE2: 編集 → キャンセル では変更が反映されない
    1. 「キャンセルテスト」というタスクを追加。
    2. 編集モードに入り、別の名前を入力する。
    3. 「キャンセル」ボタンを押す。
    4. 一覧上のタスク名は元の「キャンセルテスト」のままであること。

■ テストID: TS-UI-EDIT-003
- 対応要件: FR-003
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-edit-task.test.jsx
- テスト内容（概要・CASE3）:
  - CASE3: 編集モードの UI が正しく切り替わる
    - 「編集」ボタン押下で、入力欄＋「保存」「キャンセル」ボタンが表示される。
    - 編集モードを抜けたときには、通常の表示（テキスト＋編集ボタン）に戻る。

■ 将来追加してもよいテスト案
- 空文字で保存しようとしたとき、
  - 既存の仕様どおり「名前が変わらない」ことを確認するテスト（FR-003＋セキュリティ要件）。


----------------------------------------
[FR-004] タスク状態管理（未着手／進行中／完了／保留）（Kano: Must）
----------------------------------------

■ テストID: TS-UI-STATUS-001
- 対応要件: FR-004（状態ローテーション）
- Kanoカテゴリ: Must
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-status-change.test.jsx
- テスト内容（概要）:
  1. 「状態テストタスク」を1件追加。
  2. 初期状態が「未着手」で表示されていることを確認。
  3. 「状態変更」ボタンを1回押す → 表示が「進行中」になること。
  4. さらに押す → 「完了」になること。
  5. さらに押す → 「保留」になること。
  6. さらに押す → 再び「未着手」に戻ること。


----------------------------------------
[FR-005] 状態に基づく並べ替え（昇順／降順／解除）（Kano: One-dim）
----------------------------------------

■ テストID: TS-UI-SORT-001
- 対応要件: FR-005
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-sort-task.test.jsx
- テスト内容（概要）:
  - 昇順ボタンで状態順（未着手→進行中→完了→保留）に並ぶこと。

■ テストID: TS-UI-SORT-002
- 対応要件: FR-005
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-sort-task.test.jsx
- テスト内容（概要）:
  - 降順ボタンで状態順（保留→完了→進行中→未着手）に並ぶこと。

■ テストID: TS-UI-SORT-003
- 対応要件: FR-005
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-sort-task.test.jsx
- テスト内容（概要）:
  - 並べ替え解除で、タスクの追加順（タスク1→タスク4）が復元されること。

■ テストID: TS-UI-SORT-004
- 対応要件: FR-005 ＋ B仕様（ソート中の状態変更で並び順を変えない）
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-sort-task.test.jsx
- テスト内容（概要）:
  - 昇順ソート中に状態変更しても、タスクの「表示順」は変わらないこと。

■ テストID: TS-UI-SORT-005
- 対応要件: FR-005 ＋ B仕様
- Kanoカテゴリ: One-dim
- 種別: UIテスト（自動）
- 重要度: MUSTテスト
- 現状: 実装済
- テストファイル: src/tests/ui-sort-task.test.jsx
- テスト内容（概要）:
  - 降順ソート中に状態変更しても、タスクの「表示順」は変わらないこと。


----------------------------------------
[FR-006] タスクの永続化（localStorage 保存）（Kano: One-dim）
----------------------------------------

■ テストID: TS-LOGIC-STORAGE-001
- 対応要件: FR-006
- Kanoカテゴリ: One-dim
- 種別: ユニットテスト（ロジック）
- 重要度: MUSTテスト
- 現状: 実装済（※ tasks.test.js 内のlocalStorage関連テスト）
- テストファイル: src/tests/tasks.test.js
- テスト内容（ざっくり）:
  - タスク配列を保存用関数に渡したとき、
    localStorage に JSON 形式で保存されること。
  - 保存されていない場合は、読み込み関数が空配列など安全な値を返すこと。

※ ここは「テスト仕様メモ」のレベルではざっくりと記述し、
   必要であれば後で細かいケースを書き足す。

■ 将来の UIテスト候補
- TS-UI-STORAGE-001（NICE）:
  1. タスクを追加。
  2. ブラウザをリロード（テスト上はコンポーネントを再レンダリング）。
  3. 追加したタスクが画面に復元されていること。


----------------------------------------
[FR-007] ゲーム風UI（カード＋進捗ゲージ）（Kano: Attractive）
----------------------------------------

※ 現時点では、ここは主に「見た目」と「雰囲気」に関わるため、
   自動テストは未実装。手動確認で十分と判断。

■ テストID: TS-MANUAL-UI-LOOK-001
- 対応要件: FR-007
- Kanoカテゴリ: Attractive
- 種別: 手動テスト
- 重要度: NICEテスト
- 現状: 手動確認のみ
- 内容（観点メモ）:
  - 状態ごとにカードの色・アイコンが適切に変わっているか。
  - 進捗ゲージが状態に応じて 0% / 50% / 100% になっているか。
  - テキストの可読性が保たれているか（背景色とのコントラストなど）。


4. その他のテスト

■ TS-SAMPLE-001
- 対応要件: なし（環境確認用）
- 種別: ユニットテスト（サンプル）
- ファイル: src/sample.test.js
- メモ:
  - Vitest が正しく動作することを確認するためのサンプルテスト。
  - プロダクトの仕様とは直接関係しない。


5. 今後の方針（メモ）

- 要件定義書を更新したら、このテスト仕様メモにも
  「対応するテストID」を追記していく。
- 新しい機能を実装するときは：
  1. 要件定義書に FR-00x として追記
  2. その機能に対するテストID（TS-...）をこのメモに追記
  3. 実際のテストファイルを作る
- 狩野モデル（Must / One-dim / Attractive）は、
  「テストをどこまで厚くするか」を考える指標として使う：
  - Must      → できるだけロジック＋UIの両方で自動テストを書く
  - One-dim   → 主要な流れを自動テスト、細かいところは余裕があれば
  - Attractive→ 手動確認、スクショ保存、余裕があれば自動テスト化
