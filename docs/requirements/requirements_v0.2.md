1. ドキュメント情報
- 文書名：Game Progress Tracker 要件定義書（ライト版）
- バージョン：v0.2
- 作成日：2025-11-21
- 作成者：小柳 和博 ＋ ChatGPT

2. プロダクト概要

2.1 背景
- 趣味のゲーム（特にRPG）において、
  - ストーリー進行、
  - 装備・アイテム収集、
  - サブクエスト消化 などの進捗管理が煩雑になりやすい。
- 既存のTODOアプリやメモアプリでは、
  ゲーム特有の「状態管理（未着手／進行中／完了／保留）」や
  「ゲームっぽい見た目」が十分ではないことが多い。
- そこで、ゲーム進行管理に特化したシンプルなWebアプリを、
  学習と実用を兼ねて個人開発する。

2.2 目的
- RPGなどのゲーム進行を「やることリスト」として整理し、
  抜け漏れを防ぎつつ、気持ちよく管理できること。
- 将来的には、同じゲームを遊んでいる仲間との進捗共有など、
  発展機能の土台とすること。
- 同時に、Webアプリ開発・テスト・ドキュメント作成の学習素材とすること。

2.3 対象ユーザー
- 主なユーザー：
  - 開発者本人（小柳さん）
  - 将来的に：ゲーム進行を管理したいRPGプレイヤー
- 利用環境：
  - PCブラウザ（デスクトップChromeを主ターゲット）
  - 初期段階では「ローカル環境での利用」を前提とする

2.4 用語定義（簡易）
- タスク：
  ゲーム内で行いたい具体的な行動
  例）「ボスAを倒す」「素材アイテムBを10個集める」
- 状態（ステータス）：
  - 未着手（not-started）
  - 進行中（in-progress）
  - 完了（completed）
  - 保留（on-hold）
- Kanoカテゴリ：
  - Must：当たり前品質（できてないと不満）
  - One-dim：一元的品質（できているほど満足度UP）
  - Attractive：魅力品質（あると嬉しい）

3. スコープ

3.1 このバージョンで対象とする範囲
- シングルユーザー（ログインなし）
- 1画面構成のWebアプリ：
  - タスクの追加／編集／削除
  - 状態（未着手／進行中／完了／保留）の管理
  - 状態に基づく並べ替え（昇順／降順／解除）
  - ブラウザの localStorage を使ったタスクの永続化
- UIはPCブラウザ向け。スマホ最適化は後回し。

3.2 今回スコープ外（将来の候補）
- 複数ユーザーでの共有機能（フレンドと進捗共有など）
- サーバーサイド（DB、APIサーバー）
- ユーザー認証・ログイン機能
- 複数ゲーム／複数プロジェクトの切り替え
- スマホ向けレスポンシブ調整
- 高度なフィルタ（タグ検索、複合条件検索など）

4. 機能要件（＋Kano分類）

FR-001：タスク追加
- 概要：
  ユーザーがテキスト入力欄から新しいタスクを追加できること。
- 詳細：
  - 入力欄にタスク名を入力し、「追加」ボタン押下でタスク一覧に追加される。
  - 追加されたタスクの初期状態は「未着手」とする。
  - 入力値は前後の空白（全角・半角）を除去して扱う（trim）。
  - trim後の文字列が空の場合、そのタスクは追加しない。
  - タスク名の最大長は 100文字とする。
    - 入力欄では maxLength 等を用いて 100文字を超える入力ができないように制限する。
- 優先度：高
- Kanoカテゴリ：Must（できないとアプリの存在意義がない）

FR-002：タスク削除
- 概要：
  不要になったタスクを削除できること。
- 詳細：
  - 各タスク行に「削除」ボタンを表示する。
  - 「削除」ボタン押下で、そのタスクが一覧から消える。
- 優先度：高
- Kanoカテゴリ：Must

FR-003：タスク編集
- 概要：
  既存のタスク名を後から変更できること。
- 詳細：
  - 各タスクに「編集」ボタンを表示。
  - 編集モードではテキスト入力欄＋「保存」「キャンセル」ボタンを表示。
  - 「保存」で新しいタスク名に更新し、「キャンセル」で変更前の状態に戻る。
  - 編集時も入力値は前後の空白（全角・半角）を除去して扱う（trim）。
  - trim後の文字列が空の場合は、タスク名の更新は行わず、既存のタスク名を維持する。
  - タスク名の最大長は追加時と同じく100文字とする。
- 優先度：中〜高
- Kanoカテゴリ：One-dim（あると満足度が明確に上がる）

FR-004：タスク状態管理（未着手／進行中／完了／保留）
- 概要：
  各タスクに進捗状態を持たせ、切り替えられること。
- 詳細：
  - 各タスクに「状態変更」ボタンを表示。
  - クリックのたびに状態が
    未着手 → 進行中 → 完了 → 保留 → 未着手 … とローテーションする。
  - 表示上は日本語ラベル（未着手／進行中／完了／保留）で表示する。
- 優先度：高
- Kanoカテゴリ：Must

FR-005：状態に基づく並べ替え（昇順／降順／解除）
- 概要：
  状態の種類に応じてタスク一覧の表示順を切り替えられること。
- 詳細：
  - 画面上部に以下のボタンを配置する：
    - 「状態の昇順（未着手 → 保留）」
    - 「状態の降順（保留 → 未着手）」
    - 「並べ替え解除」
  - 昇順／降順ボタン押下時：
    - 現在のタスク一覧を 1回だけ 状態順に並べ替える。
    - その後、状態変更ボタンを押しても「行の順番」は変わらない（B仕様）。
  - 並べ替え解除ボタン押下時：
    - タスクの「追加順（id順）」に戻す。
- 優先度：中
- Kanoカテゴリ：One-dim

FR-006：タスクの永続化（localStorage 保存）
- 概要：
  ブラウザを閉じてもタスク情報が残ること。
- 詳細：
  - タスク追加・編集・削除・状態変更などが起きたタイミングで、
    タスク一覧を JSON 形式で localStorage に保存する。
  - アプリ起動時（ページ読み込み時）に localStorage から復元し、
    同じ状態で表示できること。
  - 保存する情報はタスクID／タスク名／状態／編集フラグなどに限定し、
    個人情報は含めない。
- 優先度：中〜高
- Kanoカテゴリ：One-dim

FR-007：ゲーム風UI（カード＋進捗ゲージ）
- 概要：
  タスクをゲームのクエストカードのように見せるUI。
- 詳細：
  - 状態に応じた色・アイコン・背景色を使い分ける。
  - 進捗ゲージ（0〜100%）で視覚的に状態を表現する。
    - 未着手：0%
    - 進行中：50%
    - 完了：100%
    - 保留：0%（色で区別するなど）
- 優先度：中
- Kanoカテゴリ：Attractive

※ 将来的に追加したい機能（タグ、優先度、共有機能など）は、
   FR-008以降として随時追加する。

5. 非機能要件

5.1 UX / UI
- シンプルで直感的に使えること。
- 初見のユーザーでも、画面説明なしで以下が分かること：
  - どこにタスク名を入力するか
  - どうやって追加／削除／編集するか
  - 状態ラベルの意味（未着手／進行中／完了／保留）
- ゲームっぽい雰囲気（アイコン・色使い）を持たせるが、
  可読性を損なわないこと。

5.2 性能
- 想定タスク数：100件程度まではストレスなく操作できること。
- 画面操作（追加・削除・状態変更）の反応は、
  人間が体感してストレスにならない範囲（目安：100〜200ms程度）。

5.3 信頼性
- 重大なエラーで画面が真っ白にならないこと。
- localStorage が読み込めない場合でも、
  - アプリ自体は起動し、
  - 新規タスク追加が行える状態を維持すること。

5.4 保守性
- Reactコンポーネント・テストコード・ドキュメントを
  分かりやすいディレクトリ構造で管理すること。
- 機能追加の際は、要件定義書・テスト仕様メモの更新をセットで行うこと。

6. セキュリティ要件（このプロダクト向け）

6.1 データの扱い
- localStorageに保存する情報は、以下に限定する：
  - タスクID
  - タスク名（ゲーム内TODO）
  - 状態（未着手／進行中／完了／保留）
  - 将来追加する付加情報（優先度など）
- 個人情報（氏名、住所、メールアドレス、パスワードなど）は保存しない。
- 認証情報やトークン類を localStorage に保存しない（将来サーバ連携する場合も含め注意）。

6.2 入力値の扱い
- ユーザー入力（タスク名など）は、画面表示の際に
  HTMLとして解釈されないようにすること。
  - Reactのデフォルト挙動（エスケープ）を利用し、
    dangerouslySetInnerHTML は不用意に使わない。
- 入力値は前後の空白（全角・半角）を除去して扱う（trim）。
- trim後の文字列が空の場合は、追加／編集ともに保存処理を行わない。
- 入力値の最大長を 100文字とし、それ以上の入力はUI上で受け付けない。
- 極端に長い入力による表示崩れやlocalStorage容量圧迫を避ける。

6.3 通信
- 開発中は http://localhost での利用を前提とする。
- 将来インターネット上に公開する場合は：
  - HTTPS（TLS）での配信を必須とする。
  - 外部サービスへの通信が必要になった場合は、
    APIキーなどの秘密情報をフロントエンド内に直書きしない。

6.4 依存ライブラリ・アップデート
- 利用中のライブラリ（React, Vite など）は、
  重大な脆弱性情報が公開された場合、可能な範囲でバージョンアップを検討する。
- 不要なライブラリは追加しない。

6.5 認証・認可（将来のための方針メモ）
- 現バージョンでは、認証・認可機能は持たない（シングルユーザー前提）。
- 将来、オンライン共有機能などを実装する場合は：
  - 認証方式（メール＋パスワード、OAuthなど）を別途設計する。
  - 権限（自分のタスクだけ見える／共有範囲を限定するなど）を設計する。
  - これらは新たな要件として「セキュリティ要件書」に追記する。
